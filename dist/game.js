/*! fluff 29-03-2014 */
function logPlay(){_gaq.push(["_trackEvent","Button","Play"])}function start(){var a=new Date;window.app=new SL.Game({canvas:document.getElementById("GameCanvas")}),app.camera=new SL.Camera(app.sctx,SCREEN_SIZE.getScaled(.5)),app.assetCollection=new SL.AssetCollection("res/assets.json",app,function(){_gaq.push(["_trackEvent","Game","Load","",(new Date-a)/1e3]),$(".canvas-container").append(domjs.build(templates.modal));var b=new SL.Scene("loading",[],function(){});b.addEntity(new SL.Loader({assetCollection:app.assetCollection,screenSize:SCREEN_SIZE,loadCallback:function(){app.transitionScene("menu")},barColor:"blue",textColor:"green"}));var c=new SL.Scene("menu",[],function(){var a=$(".modal");a.append(domjs.build(templates.menu)),$(".menu .button").on("click",function(){a.empty(),a.off(),app.transitionScene($(this).attr("id"))})}),d=new SL.Scene("settings",[],function(){var a=$(".modal");a.append(domjs.build(templates.settings)),$(".menu .button").on("click",function(){var b=$(this).attr("id");"menu"===b&&(a.empty(),a.off(),app.transitionScene(b))}),app.currentScene.addEntity({update:function(){},draw:function(a){a.clearRect(0,0,800,600)}})}),e=new SL.Scene("about",[],function(){var a=$(".modal");a.append(domjs.build(templates.about)),$(".menu .button").on("click",function(){a.empty(),a.off(),app.transitionScene($(this).attr("id"))}),app.currentScene.addEntity({update:function(){},draw:function(a){a.clearRect(0,0,800,600)}})}),f=new SL.Scene("game",[],function(){var a=app.assetCollection.getImage("bg-1");app.currentScene.addEntity({update:function(){},draw:function(){var b=new SL.Vec2(0,0);app.camera.drawImage({image:a,location:b})},zIndex:0}),app.currentScene.addEntity({update:function(){},draw:function(){app.camera.drawText({text:"FPS: "+app.fps,color:"red",location:app.camera.offset.getScaled(-1).translate(new SL.Vec2(5,15))})},zIndex:5})});app.addScene(b),app.addScene(c),app.addScene(f),app.addScene(d),app.addScene(e),app.transitionScene("loading"),app.start()})}SL=sugarLab;var SCREEN_SIZE=new SL.Vec2(800,600),CAMERA_OFFSET=new SL.Vec2(0,0);